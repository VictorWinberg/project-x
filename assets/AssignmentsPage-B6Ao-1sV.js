import{j as t,f as d,L as n,g as r}from"./index-CM7WicvE.js";import{D as g,a as p,b as u,c as x,M as h}from"./DataTable-SgsX8Xj-.js";import{F as f}from"./FlexGrow-9-O_Zt4N.js";import{u as A,a as j,b as C,A as b}from"./useAssignmentsMutations-DjZYl50n.js";import{u as D}from"./useAssignmentsQueries-CJu3Z3fb.js";import{A as y}from"./Add-0_swQLb8.js";import"./MoreHoriz-CkTlggdb.js";import"./VisibilityOff-TheQS8is.js";import"./Tooltip-DaGvfa_y.js";import"./object-IjT0Uf9w.js";import"./index.esm-Pq1upjjX.js";import"./useContactsQueries-iI8BnjAR.js";import"./useSnackbar-CPEJbgid.js";const E=[{accessorKey:"assignmentName",header:"Uppdragsnamn",Cell:({cell:e,row:a})=>t.jsx(r,{component:n,to:`/dashboard/assignments/${a.original.assignmentId}`,children:e.getValue()})},{accessorFn:e=>{var a;return(a=e.responsiblePerson)==null?void 0:a.contactName},header:"Ansvarig",enableEditing:!1,Cell:({cell:e,row:a})=>t.jsx(r,{component:n,to:`/dashboard/contacts/${a.original.responsiblePersonId}`,children:e.getValue()})},{accessorFn:e=>{var a;return(a=e.externalContactPerson)==null?void 0:a.contactName},header:"Extern",enableEditing:!1,Cell:({cell:e,row:a})=>t.jsx(r,{component:n,to:`/dashboard/contacts/${a.original.externalContactPersonId}`,children:e.getValue()})},{accessorKey:"type",header:"Typ",filterVariant:"multi-select"},{accessorKey:"status",header:"Status",filterVariant:"multi-select"},{accessorKey:"fee",header:"Arvode",filterVariant:"range-slider",Cell:({cell:e})=>e.getValue().toLocaleString("sv-SE",{style:"currency",currency:"SEK",minimumFractionDigits:0,maximumFractionDigits:0})},{accessorFn:e=>new Date(e.updatedAt),header:"Senast uppdaterad",filterVariant:"date-range",enableEditing:!1,Cell:({cell:e})=>e.getValue().toLocaleDateString("sv-SE")}],U=()=>{const{data:e=[],isLoading:a}=D(),{mutate:o}=A(),{mutate:i}=j(),{mutate:l}=C();return t.jsx(f,{children:t.jsx(g,{data:e,columns:E,getRowId:s=>`${s.assignmentId}`,state:{isLoading:a},onCreate:s=>o(s),onUpdate:s=>i(s),onDelete:s=>l(s),renderTopToolbarCustomActions:()=>t.jsx(d,{component:n,to:"new",variant:"outlined",size:"small",startIcon:t.jsx(y,{}),sx:{textTransform:"none"},children:"LÃ¤gg till uppdrag"}),renderEditRowDialogContent:({row:s,table:c})=>t.jsxs(t.Fragment,{children:[t.jsx(p,{variant:"h4",color:"primary",children:"Redigera uppdrag"}),t.jsx(u,{children:t.jsx(b,{sx:{mt:1},formProps:{values:s.original},onChange:m=>{s._valuesCache=m}})}),t.jsx(x,{children:t.jsx(h,{row:s,table:c,variant:"text"})})]})})})};export{U as default};
