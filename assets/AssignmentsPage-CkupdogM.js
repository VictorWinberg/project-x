import{j as t,f as d,L as n,g as r}from"./index-DzJE5K5n.js";import{D as g,a as p,b as u,c as x,M as h}from"./DataTable-DfYsDs2B.js";import{F as f}from"./FlexGrow-CiHrhjHl.js";import{u as A,a as j,b as C,A as b}from"./useAssignmentsMutations-BT82fk3h.js";import{u as D}from"./useAssignmentsQueries-Rbk48TRa.js";import{A as y}from"./Add-BPkYCrEl.js";import"./MoreHoriz-DVenA7cr.js";import"./VisibilityOff-C14fcRWD.js";import"./Tooltip-D-Pubs4A.js";import"./object-CxeBnSYt.js";import"./index.esm-ZKREkglP.js";import"./useContactsQueries-DCkZKjC7.js";import"./useSnackbar-Cl0Y0SbF.js";const E=[{accessorKey:"assignmentName",header:"Uppdragsnamn",Cell:({cell:e,row:a})=>t.jsx(r,{component:n,to:`/dashboard/assignments/${a.original.assignmentId}`,children:e.getValue()})},{accessorFn:e=>{var a;return(a=e.responsiblePerson)==null?void 0:a.contactName},header:"Ansvarig",enableEditing:!1,Cell:({cell:e,row:a})=>t.jsx(r,{component:n,to:`/dashboard/contacts/${a.original.responsiblePersonId}`,children:e.getValue()})},{accessorFn:e=>{var a;return(a=e.externalContactPerson)==null?void 0:a.contactName},header:"Extern",enableEditing:!1,Cell:({cell:e,row:a})=>t.jsx(r,{component:n,to:`/dashboard/contacts/${a.original.externalContactPersonId}`,children:e.getValue()})},{accessorKey:"type",header:"Typ",filterVariant:"multi-select"},{accessorKey:"status",header:"Status",filterVariant:"multi-select"},{accessorKey:"fee",header:"Arvode",filterVariant:"range-slider",Cell:({cell:e})=>e.getValue().toLocaleString("sv-SE",{style:"currency",currency:"SEK",minimumFractionDigits:0,maximumFractionDigits:0})},{accessorFn:e=>new Date(e.updatedAt),header:"Senast uppdaterad",filterVariant:"date-range",enableEditing:!1,Cell:({cell:e})=>e.getValue().toLocaleDateString("sv-SE")}],U=()=>{const{data:e=[],isLoading:a}=D(),{mutate:o}=A(),{mutate:i}=j(),{mutate:l}=C();return t.jsx(f,{children:t.jsx(g,{data:e,columns:E,getRowId:s=>`${s.assignmentId}`,state:{isLoading:a},onCreate:s=>o(s),onUpdate:s=>i(s),onDelete:s=>l(s),renderTopToolbarCustomActions:()=>t.jsx(d,{component:n,to:"new",variant:"outlined",size:"small",startIcon:t.jsx(y,{}),sx:{textTransform:"none"},children:"LÃ¤gg till uppdrag"}),renderEditRowDialogContent:({row:s,table:c})=>t.jsxs(t.Fragment,{children:[t.jsx(p,{variant:"h4",color:"primary",children:"Redigera uppdrag"}),t.jsx(u,{children:t.jsx(b,{sx:{mt:1},formProps:{values:s.original},onChange:m=>{s._valuesCache=m}})}),t.jsx(x,{children:t.jsx(h,{row:s,table:c,variant:"text"})})]})})})};export{U as default};
