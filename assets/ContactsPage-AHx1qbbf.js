import{j as t,f as m,L as n,g as d}from"./index-9BBd0sKj.js";import{D as p,a as u,b as g,c as x,M as C}from"./DataTable-B0DKegQe.js";import{F as h}from"./FlexGrow-DHyNlWIf.js";import{C as f}from"./ContactForm-BRGYc20e.js";import{u as j,a as b,b as D}from"./useContactsMutations-BYCYx9Y-.js";import{u as T}from"./useContactsQueries-BJfGSqDs.js";import{A as y}from"./Add-BbCBcA2w.js";import"./MoreHoriz-DHsMue6z.js";import"./VisibilityOff-DsZf4z8d.js";import"./Tooltip-CGcNpeuT.js";import"./object-C6CaauGO.js";import"./index.esm-CE9CLDXt.js";import"./useCompaniesQueries-BajEABf6.js";import"./useSnackbar-ChNlv1qW.js";const E=[{accessorKey:"contactName",header:"Namn",Cell:({cell:a,row:o})=>t.jsx(d,{component:n,to:`/dashboard/contacts/${o.original.contactId}`,children:a.getValue()})},{accessorKey:"email",header:"Email"},{accessorKey:"jobTitle",header:"Jobbtitel"},{accessorFn:a=>{var o;return(o=a.company)==null?void 0:o.companyName},header:"Företagsnamn",filterVariant:"multi-select",enableEditing:!1},{accessorKey:"phone",header:"Telefonnummer"},{accessorFn:a=>new Date(a.updatedAt),header:"Senast uppdaterad",filterVariant:"date-range",enableEditing:!1,Cell:({cell:a})=>a.getValue().toLocaleDateString("sv-SE")}],M=()=>{const{data:a=[],isLoading:o}=T(),{mutate:s}=j(),{mutate:r}=b(),{mutate:i}=D();return t.jsx(h,{children:t.jsx(p,{data:a,columns:E,getRowId:e=>`${e.contactId}`,state:{isLoading:o},onCreate:e=>s(e),onUpdate:e=>r(e),onDelete:e=>i(e),renderTopToolbarCustomActions:()=>t.jsx(m,{component:n,to:"new",variant:"outlined",size:"small",startIcon:t.jsx(y,{}),sx:{textTransform:"none"},children:"Lägg till kontakt"}),renderEditRowDialogContent:({row:e,table:c})=>t.jsxs(t.Fragment,{children:[t.jsx(u,{variant:"h4",color:"primary",children:"Redigera kontakt"}),t.jsx(g,{children:t.jsx(f,{sx:{mt:1},formProps:{values:e.original},onChange:l=>{e._valuesCache=l}})}),t.jsx(x,{children:t.jsx(C,{row:e,table:c,variant:"text"})})]})})})};export{M as default};
