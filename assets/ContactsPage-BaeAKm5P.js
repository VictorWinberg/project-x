import{j as t,f as d,L as s,g as n,i as u}from"./index-XHkIhLye.js";import{D as p,a as g,b as f,M as h}from"./useSnackbar-zLrfNO8W.js";import{D as x}from"./DataTable-DLa0IiXD.js";import{F as C}from"./FlexGrow-DWDFYmMj.js";import{f as j,t as b}from"./date-BiKIDKiu.js";import{u as D,a as y,b as T,C as A}from"./useContactsMutations-BvrdtQcj.js";import{u as F}from"./useContactsQueries-BoEbAaZq.js";import{A as k}from"./Add-BJaCYr5t.js";import"./MoreHoriz-lBAIKZ3K.js";import"./index.esm-ByZho9e3.js";import"./Tooltip-D6TiLl0l.js";import"./useCompaniesQueries-DEUzH8-g.js";const E=[{accessorKey:"contactName",header:"Namn",Cell:({cell:e,row:o})=>t.jsx(n,{component:s,to:`/dashboard/contacts/${o.original.contactId}`,children:e.getValue()})},{accessorKey:"email",header:"Email",Cell:({cell:e})=>t.jsx(n,{href:`mailto:${e.getValue()}`,children:e.getValue()})},{accessorKey:"jobTitle",header:"Jobbtitel"},{accessorFn:e=>{var o;return(o=e.company)==null?void 0:o.companyName},header:"Företagsnamn",filterVariant:"multi-select",enableEditing:!1},{accessorKey:"phone",header:"Telefonnummer"},{accessorKey:"updatedAt",accessorFn:e=>u.utc(e.updatedAt),header:"Senast uppdaterad",filterVariant:"date-range",enableEditing:!1,Cell:({cell:e})=>j(b(e.getValue()))}],U=()=>{const{data:e=[],isLoading:o}=F(),{mutate:r}=D(),{mutate:i}=y(),{mutate:c}=T();return t.jsx(C,{children:t.jsx(x,{data:e,columns:E,getRowId:a=>`${a.contactId}`,state:{isLoading:o},onCreate:a=>r(a),onUpdate:a=>i(a),onDelete:a=>c(a),renderTopToolbarCustomActions:()=>t.jsx(d,{component:s,to:"new",variant:"outlined",size:"small",startIcon:t.jsx(k,{}),sx:{textTransform:"none"},children:"Lägg till kontakt"}),renderEditRowDialogContent:({row:a,table:l})=>t.jsxs(t.Fragment,{children:[t.jsx(p,{variant:"h4",color:"primary",children:"Redigera kontakt"}),t.jsx(g,{children:t.jsx(A,{sx:{mt:1},formProps:{values:a.original},onChange:m=>{a._valuesCache=m}})}),t.jsx(f,{children:t.jsx(h,{row:a,table:l,variant:"text"})})]})})})};export{U as default};
