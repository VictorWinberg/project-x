import{g,h,j as e,T as j,B as b,G as s,i as r,S as y,f as o,L as f}from"./index-Brz0LEz6.js";import{u as S,a as v,C as A}from"./index.esm-jE0kXem8.js";import{u as B}from"./useContactsQueries-Cge2ZSKo.js";import{c as C}from"./assignmentsApi-CbNozrkQ.js";import{A as m}from"./Autocomplete-C7S7oBdd.js";import"./utils-km2FGkQ4.js";import"./useQuery-D7OzIYlC.js";import"./contactsApi-DWcg6ekq.js";import"./IconButton-BOJIbPZb.js";const F=()=>{const i=g();return S({mutationFn:C,onSuccess:()=>{i.invalidateQueries({queryKey:["assignments"]})}})},G=()=>{const{data:i=[]}=B(),{mutate:u}=F(),c=h(),{register:n,control:d,handleSubmit:p}=v(),x=a=>{u(a,{onSuccess:()=>{c("..")}})};return e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"h4",color:"primary",children:"Lägg till uppdrag"}),e.jsx(b,{sx:{my:1}}),e.jsxs("form",{onSubmit:p(x),children:[e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(r,{fullWidth:!0,label:"Uppdragsnamn",type:"text",margin:"none",...n("assignmentName")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(A,{name:"responsiblePersonId",control:d,render:({field:a})=>e.jsx(m,{options:i,getOptionKey:t=>t.contactId,getOptionLabel:t=>`${t.firstName} ${t.lastName}`,onChange:(t,l)=>a.onChange(l?l.contactId:void 0),renderInput:t=>e.jsx(r,{...t,label:"Uppdragsgivare",variant:"outlined",fullWidth:!0})})})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(m,{multiple:!0,options:W,renderInput:a=>e.jsx(r,{...a,label:"Fastigheter",type:"text",...n("relevantFiles")}),limitTags:2,disableCloseOnSelect:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(r,{fullWidth:!0,label:"Status",margin:"none",type:"text",...n("status")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(r,{fullWidth:!0,label:"Typ",margin:"none",type:"text",...n("type")})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(r,{fullWidth:!0,label:"Arvode",margin:"none",type:"number",...n("fee")})})]}),e.jsxs(y,{spacing:2,direction:"row",sx:{mt:3},children:[e.jsx(o,{size:"large",type:"submit",variant:"contained",color:"primary",children:"Spara"}),e.jsx(o,{component:f,size:"large",variant:"outlined",color:"primary",to:"..",children:"Avbryt"})]})]})]})},W=[{label:"Företaget"},{label:"BRF Sjöstadshöjden"},{label:"Bil & Bostad AB"},{label:"Hemfosa Fastigheter AB"},{label:"Svenska Bostäder"},{label:"Wallenstam AB"},{label:"Skanska"},{label:"JM AB"}];export{G as default};
