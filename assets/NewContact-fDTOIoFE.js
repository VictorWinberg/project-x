import{g as h,h as j,j as t,T as y,B as g,G as e,i as s,S as b,f as l,L as f}from"./index-Brz0LEz6.js";import{u as k,a as C,C as S}from"./index.esm-jE0kXem8.js";import{u as v}from"./useCompaniesQueries-Dd7hedNa.js";import{c as N}from"./contactsApi-DWcg6ekq.js";import{A as m}from"./Autocomplete-C7S7oBdd.js";import"./utils-km2FGkQ4.js";import"./useQuery-D7OzIYlC.js";import"./companiesApi-fZoW0E7c.js";import"./IconButton-BOJIbPZb.js";const F=()=>{const i=h();return k({mutationFn:N,onSuccess:()=>{i.invalidateQueries({queryKey:["contacts"]})}})},w=()=>{const{data:i=[]}=v(),{mutate:c}=F(),u=j(),{register:a,control:p,handleSubmit:x}=C(),d=r=>{c(r,{onSuccess:()=>{u("..")}})};return t.jsxs(t.Fragment,{children:[t.jsx(y,{variant:"h4",color:"primary",children:"Lägg till kontakt"}),t.jsx(g,{sx:{my:1}}),t.jsxs("form",{onSubmit:x(d),children:[t.jsxs(e,{container:!0,spacing:3,children:[t.jsx(e,{item:!0,xs:12,sm:6,children:t.jsx(s,{fullWidth:!0,label:"Förnamn",type:"text",margin:"none",...a("firstName")})}),t.jsx(e,{item:!0,xs:12,sm:6,children:t.jsx(s,{fullWidth:!0,label:"Efternamn",type:"text",margin:"none",...a("lastName")})}),t.jsx(e,{item:!0,xs:12,sm:6,children:t.jsx(s,{fullWidth:!0,label:"Email",type:"text",margin:"none",...a("email")})}),t.jsx(e,{item:!0,xs:12,sm:6,children:t.jsx(s,{fullWidth:!0,label:"Telefonnummer",type:"text",margin:"none",...a("phone")})}),t.jsx(e,{item:!0,xs:12,children:t.jsx(S,{name:"companyId",control:p,render:({field:r})=>t.jsx(m,{options:i,getOptionKey:n=>n.companyId,getOptionLabel:n=>n.companyName,onChange:(n,o)=>r.onChange(o?o.companyId:void 0),renderInput:n=>t.jsx(s,{...n,label:"Bolag",variant:"outlined",fullWidth:!0})})})}),t.jsx(e,{item:!0,xs:12,children:t.jsx(m,{multiple:!0,options:I,renderInput:r=>t.jsx(s,{...r,label:"Utskick",name:"dispatch",type:"text"}),limitTags:2,disableCloseOnSelect:!0})})]}),t.jsxs(b,{spacing:2,direction:"row",sx:{mt:3},children:[t.jsx(l,{size:"large",type:"submit",variant:"contained",color:"primary",children:"Spara"}),t.jsx(l,{component:f,size:"large",variant:"outlined",color:"primary",to:"..",children:"Avbryt"})]})]})]})},I=[{label:"Utskick Syd"},{label:"Utskick Väst"},{label:"Utskick Norr"},{label:"Utskick Öst"}];export{w as default};
