var Vt=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var o=(e,t,s)=>(Vt(e,t,"read from private field"),s?s.call(e):t.get(e)),p=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},m=(e,t,s,r)=>(Vt(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s);var g=(e,t,s)=>(Vt(e,t,"access private method"),s);import{E as ie,A as le,F as ut,a7 as ze,Y as We,z as w,r as u,a1 as ae,x as jt,H as q,j as O,J as ce,v as ke,U as is,aM as Ne,b6 as Ae,a9 as Ue,Z as At,a as ls,V as Yt,W as as,b7 as De,b8 as Ut,b9 as cs,ba as Re,bb as we,bc as us,bd as ds,be as hs,bf as Be,bg as $t,bh as Ee,bi as fs,m as je,bj as bs}from"./index-BD7MpHq_.js";let dt;function $e(){if(dt)return dt;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),dt="reverse",e.scrollLeft>0?dt="default":(e.scrollLeft=1,e.scrollLeft===0&&(dt="negative")),document.body.removeChild(e),dt}function ps(e,t){const s=e.scrollLeft;if(t!=="rtl")return s;switch($e()){case"negative":return e.scrollWidth-e.clientWidth+s;case"reverse":return e.scrollWidth-e.clientWidth-s;default:return s}}function vs(e){return le("MuiTab",e)}const nt=ie("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ms=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Ss=e=>{const{classes:t,textColor:s,fullWidth:r,wrapped:n,icon:l,label:c,selected:d,disabled:f}=e,y={root:["root",l&&c&&"labelIcon",`textColor${We(s)}`,r&&"fullWidth",n&&"wrapped",d&&"selected",f&&"disabled"],iconWrapper:["iconWrapper"]};return ce(y,vs,t)},gs=ut(ze,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.label&&s.icon&&t.labelIcon,t[`textColor${We(s.textColor)}`],s.fullWidth&&t.fullWidth,s.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>w({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${nt.iconWrapper}`]:w({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${nt.selected}`]:{opacity:1},[`&.${nt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${nt.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${nt.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${nt.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${nt.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),nr=u.forwardRef(function(t,s){const r=ae({props:t,name:"MuiTab"}),{className:n,disabled:l=!1,disableFocusRipple:c=!1,fullWidth:d,icon:f,iconPosition:y="top",indicator:x,label:h,onChange:C,onClick:R,onFocus:N,selected:F,selectionFollowsFocus:B,textColor:A="inherit",value:z,wrapped:tt=!1}=r,H=jt(r,ms),X=w({},r,{disabled:l,disableFocusRipple:c,selected:F,icon:!!f,iconPosition:y,label:!!h,fullWidth:d,textColor:A,wrapped:tt}),et=Ss(X),U=f&&h&&u.isValidElement(f)?u.cloneElement(f,{className:q(et.iconWrapper,f.props.className)}):f,I=W=>{!F&&C&&C(W,z),R&&R(W)},D=W=>{B&&!F&&C&&C(W,z),N&&N(W)};return O.jsxs(gs,w({focusRipple:!c,className:q(et.root,n),ref:s,role:"tab","aria-selected":F,disabled:l,onClick:I,onFocus:D,ownerState:X,tabIndex:F?0:-1},H,{children:[y==="top"||y==="start"?O.jsxs(u.Fragment,{children:[U,h]}):O.jsxs(u.Fragment,{children:[h,U]}),x]}))}),ys=ke(O.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Cs=ke(O.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function xs(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Rs(e,t,s,r={},n=()=>{}){const{ease:l=xs,duration:c=300}=r;let d=null;const f=t[e];let y=!1;const x=()=>{y=!0},h=C=>{if(y){n(new Error("Animation cancelled"));return}d===null&&(d=C);const R=Math.min(1,(C-d)/c);if(t[e]=l(R)*(s-f)+f,R>=1){requestAnimationFrame(()=>{n(null)});return}requestAnimationFrame(h)};return f===s?(n(new Error("Element already at target position")),x):(requestAnimationFrame(h),x)}const ws=["onChange"],Bs={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Es(e){const{onChange:t}=e,s=jt(e,ws),r=u.useRef(),n=u.useRef(null),l=()=>{r.current=n.current.offsetHeight-n.current.clientHeight};return is(()=>{const c=Ne(()=>{const f=r.current;l(),f!==r.current&&t(r.current)}),d=Ae(n.current);return d.addEventListener("resize",c),()=>{c.clear(),d.removeEventListener("resize",c)}},[t]),u.useEffect(()=>{l(),t(r.current)},[t]),O.jsx("div",w({style:Bs,ref:n},s))}function Is(e){return le("MuiTabScrollButton",e)}const Os=ie("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Ts=["className","slots","slotProps","direction","orientation","disabled"],Ms=e=>{const{classes:t,orientation:s,disabled:r}=e;return ce({root:["root",s,r&&"disabled"]},Is,t)},Ps=ut(ze,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.orientation&&t[s.orientation]]}})(({ownerState:e})=>w({width:40,flexShrink:0,opacity:.8,[`&.${Os.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),Ls=u.forwardRef(function(t,s){var r,n;const l=ae({props:t,name:"MuiTabScrollButton"}),{className:c,slots:d={},slotProps:f={},direction:y}=l,x=jt(l,Ts),h=Ue(),C=w({isRtl:h},l),R=Ms(C),N=(r=d.StartScrollButtonIcon)!=null?r:ys,F=(n=d.EndScrollButtonIcon)!=null?n:Cs,B=At({elementType:N,externalSlotProps:f.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:C}),A=At({elementType:F,externalSlotProps:f.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:C});return O.jsx(Ps,w({component:"div",className:q(R.root,c),ref:s,role:null,ownerState:C,tabIndex:null},x,{children:y==="left"?O.jsx(N,w({},B)):O.jsx(F,w({},A))}))});function Fs(e){return le("MuiTabs",e)}const qt=ie("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),zs=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Ie=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Oe=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,kt=(e,t,s)=>{let r=!1,n=s(e,t);for(;n;){if(n===e.firstChild){if(r)return;r=!0}const l=n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||l)n=s(e,n);else{n.focus();return}}},Ws=e=>{const{vertical:t,fixed:s,hideScrollbar:r,scrollableX:n,scrollableY:l,centered:c,scrollButtonsHideMobile:d,classes:f}=e;return ce({root:["root",t&&"vertical"],scroller:["scroller",s&&"fixed",r&&"hideScrollbar",n&&"scrollableX",l&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",c&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",d&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Fs,f)},ks=ut("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${qt.scrollButtons}`]:t.scrollButtons},{[`& .${qt.scrollButtons}`]:s.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,s.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>w({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${qt.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Ns=ut("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.scroller,s.fixed&&t.fixed,s.hideScrollbar&&t.hideScrollbar,s.scrollableX&&t.scrollableX,s.scrollableY&&t.scrollableY]}})(({ownerState:e})=>w({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),As=ut("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.flexContainer,s.vertical&&t.flexContainerVertical,s.centered&&t.centered]}})(({ownerState:e})=>w({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Us=ut("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>w({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Ds=ut(Es)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Te={},ir=u.forwardRef(function(t,s){const r=ae({props:t,name:"MuiTabs"}),n=ls(),l=Ue(),{"aria-label":c,"aria-labelledby":d,action:f,centered:y=!1,children:x,className:h,component:C="div",allowScrollButtonsMobile:R=!1,indicatorColor:N="primary",onChange:F,orientation:B="horizontal",ScrollButtonComponent:A=Ls,scrollButtons:z="auto",selectionFollowsFocus:tt,slots:H={},slotProps:X={},TabIndicatorProps:et={},TabScrollButtonProps:U={},textColor:I="primary",value:D,variant:W="standard",visibleScrollbar:Qt=!1}=r,Ke=jt(r,zs),j=W==="scrollable",k=B==="vertical",mt=k?"scrollTop":"scrollLeft",Lt=k?"top":"left",Ft=k?"bottom":"right",Ht=k?"clientHeight":"clientWidth",St=k?"height":"width",st=w({},r,{component:C,allowScrollButtonsMobile:R,indicatorColor:N,orientation:B,vertical:k,scrollButtons:z,textColor:I,variant:W,visibleScrollbar:Qt,fixed:!j,hideScrollbar:j&&!Qt,scrollableX:j&&!k,scrollableY:j&&k,centered:y&&!j,scrollButtonsHideMobile:!R}),V=Ws(st),Xe=At({elementType:H.StartScrollButtonIcon,externalSlotProps:X.startScrollButtonIcon,ownerState:st}),Ve=At({elementType:H.EndScrollButtonIcon,externalSlotProps:X.endScrollButtonIcon,ownerState:st}),[de,Ye]=u.useState(!1),[rt,he]=u.useState(Te),[fe,qe]=u.useState(!1),[be,Ge]=u.useState(!1),[pe,Je]=u.useState(!1),[ve,Ze]=u.useState({overflow:"hidden",scrollbarWidth:0}),me=new Map,_=u.useRef(null),ot=u.useRef(null),Se=()=>{const i=_.current;let a;if(i){const b=i.getBoundingClientRect();a={clientWidth:i.clientWidth,scrollLeft:i.scrollLeft,scrollTop:i.scrollTop,scrollLeftNormalized:ps(i,l?"rtl":"ltr"),scrollWidth:i.scrollWidth,top:b.top,bottom:b.bottom,left:b.left,right:b.right}}let v;if(i&&D!==!1){const b=ot.current.children;if(b.length>0){const E=b[me.get(D)];v=E?E.getBoundingClientRect():null}}return{tabsMeta:a,tabMeta:v}},gt=Yt(()=>{const{tabsMeta:i,tabMeta:a}=Se();let v=0,b;if(k)b="top",a&&i&&(v=a.top-i.top+i.scrollTop);else if(b=l?"right":"left",a&&i){const T=l?i.scrollLeftNormalized+i.clientWidth-i.scrollWidth:i.scrollLeft;v=(l?-1:1)*(a[b]-i[b]+T)}const E={[b]:v,[St]:a?a[St]:0};if(isNaN(rt[b])||isNaN(rt[St]))he(E);else{const T=Math.abs(rt[b]-E[b]),$=Math.abs(rt[St]-E[St]);(T>=1||$>=1)&&he(E)}}),_t=(i,{animation:a=!0}={})=>{a?Rs(mt,_.current,i,{duration:n.transitions.duration.standard}):_.current[mt]=i},ge=i=>{let a=_.current[mt];k?a+=i:(a+=i*(l?-1:1),a*=l&&$e()==="reverse"?-1:1),_t(a)},ye=()=>{const i=_.current[Ht];let a=0;const v=Array.from(ot.current.children);for(let b=0;b<v.length;b+=1){const E=v[b];if(a+E[Ht]>i){b===0&&(a=i);break}a+=E[Ht]}return a},ts=()=>{ge(-1*ye())},es=()=>{ge(ye())},ss=u.useCallback(i=>{Ze({overflow:null,scrollbarWidth:i})},[]),rs=()=>{const i={};i.scrollbarSizeListener=j?O.jsx(Ds,{onChange:ss,className:q(V.scrollableX,V.hideScrollbar)}):null;const v=j&&(z==="auto"&&(fe||be)||z===!0);return i.scrollButtonStart=v?O.jsx(A,w({slots:{StartScrollButtonIcon:H.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Xe},orientation:B,direction:l?"right":"left",onClick:ts,disabled:!fe},U,{className:q(V.scrollButtons,U.className)})):null,i.scrollButtonEnd=v?O.jsx(A,w({slots:{EndScrollButtonIcon:H.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Ve},orientation:B,direction:l?"left":"right",onClick:es,disabled:!be},U,{className:q(V.scrollButtons,U.className)})):null,i},Ce=Yt(i=>{const{tabsMeta:a,tabMeta:v}=Se();if(!(!v||!a)){if(v[Lt]<a[Lt]){const b=a[mt]+(v[Lt]-a[Lt]);_t(b,{animation:i})}else if(v[Ft]>a[Ft]){const b=a[mt]+(v[Ft]-a[Ft]);_t(b,{animation:i})}}}),zt=Yt(()=>{j&&z!==!1&&Je(!pe)});u.useEffect(()=>{const i=Ne(()=>{_.current&&gt()});let a;const v=T=>{T.forEach($=>{$.removedNodes.forEach(yt=>{var Y;(Y=a)==null||Y.unobserve(yt)}),$.addedNodes.forEach(yt=>{var Y;(Y=a)==null||Y.observe(yt)})}),i(),zt()},b=Ae(_.current);b.addEventListener("resize",i);let E;return typeof ResizeObserver<"u"&&(a=new ResizeObserver(i),Array.from(ot.current.children).forEach(T=>{a.observe(T)})),typeof MutationObserver<"u"&&(E=new MutationObserver(v),E.observe(ot.current,{childList:!0})),()=>{var T,$;i.clear(),b.removeEventListener("resize",i),(T=E)==null||T.disconnect(),($=a)==null||$.disconnect()}},[gt,zt]),u.useEffect(()=>{const i=Array.from(ot.current.children),a=i.length;if(typeof IntersectionObserver<"u"&&a>0&&j&&z!==!1){const v=i[0],b=i[a-1],E={root:_.current,threshold:.99},T=Xt=>{qe(!Xt[0].isIntersecting)},$=new IntersectionObserver(T,E);$.observe(v);const yt=Xt=>{Ge(!Xt[0].isIntersecting)},Y=new IntersectionObserver(yt,E);return Y.observe(b),()=>{$.disconnect(),Y.disconnect()}}},[j,z,pe,x==null?void 0:x.length]),u.useEffect(()=>{Ye(!0)},[]),u.useEffect(()=>{gt()}),u.useEffect(()=>{Ce(Te!==rt)},[Ce,rt]),u.useImperativeHandle(f,()=>({updateIndicator:gt,updateScrollButtons:zt}),[gt,zt]);const xe=O.jsx(Us,w({},et,{className:q(V.indicator,et.className),ownerState:st,style:w({},rt,et.style)}));let Wt=0;const os=u.Children.map(x,i=>{if(!u.isValidElement(i))return null;const a=i.props.value===void 0?Wt:i.props.value;me.set(a,Wt);const v=a===D;return Wt+=1,u.cloneElement(i,w({fullWidth:W==="fullWidth",indicator:v&&!de&&xe,selected:v,selectionFollowsFocus:tt,onChange:F,textColor:I,value:a},Wt===1&&D===!1&&!i.props.tabIndex?{tabIndex:0}:{}))}),ns=i=>{const a=ot.current,v=as(a).activeElement;if(v.getAttribute("role")!=="tab")return;let E=B==="horizontal"?"ArrowLeft":"ArrowUp",T=B==="horizontal"?"ArrowRight":"ArrowDown";switch(B==="horizontal"&&l&&(E="ArrowRight",T="ArrowLeft"),i.key){case E:i.preventDefault(),kt(a,v,Oe);break;case T:i.preventDefault(),kt(a,v,Ie);break;case"Home":i.preventDefault(),kt(a,null,Ie);break;case"End":i.preventDefault(),kt(a,null,Oe);break}},Kt=rs();return O.jsxs(ks,w({className:q(V.root,h),ownerState:st,ref:s,as:C},Ke,{children:[Kt.scrollButtonStart,Kt.scrollbarSizeListener,O.jsxs(Ns,{className:V.scroller,ownerState:st,style:{overflow:ve.overflow,[k?`margin${l?"Left":"Right"}`:"marginBottom"]:Qt?void 0:-ve.scrollbarWidth},ref:_,children:[O.jsx(As,{"aria-label":c,"aria-labelledby":d,"aria-orientation":B==="vertical"?"vertical":null,className:V.flexContainer,ownerState:st,onKeyDown:ns,ref:ot,role:"tablist",children:os}),de&&xe]}),Kt.scrollButtonEnd]}))});var P,S,xt,M,it,ht,Q,Rt,ft,bt,lt,at,G,pt,ct,Ct,wt,Gt,Bt,Jt,Et,Zt,It,te,Ot,ee,Tt,se,Mt,re,Dt,Qe,Le,js=(Le=class extends De{constructor(t,s){super();p(this,ct);p(this,wt);p(this,Bt);p(this,Et);p(this,It);p(this,Ot);p(this,Tt);p(this,Mt);p(this,Dt);p(this,P,void 0);p(this,S,void 0);p(this,xt,void 0);p(this,M,void 0);p(this,it,void 0);p(this,ht,void 0);p(this,Q,void 0);p(this,Rt,void 0);p(this,ft,void 0);p(this,bt,void 0);p(this,lt,void 0);p(this,at,void 0);p(this,G,void 0);p(this,pt,new Set);this.options=s,m(this,P,t),m(this,Q,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(o(this,S).addObserver(this),Me(o(this,S),this.options)?g(this,ct,Ct).call(this):this.updateResult(),g(this,It,te).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oe(o(this,S),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oe(o(this,S),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,g(this,Ot,ee).call(this),g(this,Tt,se).call(this),o(this,S).removeObserver(this)}setOptions(t,s){const r=this.options,n=o(this,S);if(this.options=o(this,P).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");g(this,Mt,re).call(this),o(this,S).setOptions(this.options),r._defaulted&&!Ut(this.options,r)&&o(this,P).getQueryCache().notify({type:"observerOptionsUpdated",query:o(this,S),observer:this});const l=this.hasListeners();l&&Pe(o(this,S),n,this.options,r)&&g(this,ct,Ct).call(this),this.updateResult(s),l&&(o(this,S)!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&g(this,wt,Gt).call(this);const c=g(this,Bt,Jt).call(this);l&&(o(this,S)!==n||this.options.enabled!==r.enabled||c!==o(this,G))&&g(this,Et,Zt).call(this,c)}getOptimisticResult(t){const s=o(this,P).getQueryCache().build(o(this,P),t),r=this.createResult(s,t);return Qs(this,r)&&(m(this,M,r),m(this,ht,this.options),m(this,it,o(this,S).state)),r}getCurrentResult(){return o(this,M)}trackResult(t,s){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),s==null||s(n),t[n])})}),r}trackProp(t){o(this,pt).add(t)}getCurrentQuery(){return o(this,S)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=o(this,P).defaultQueryOptions(t),r=o(this,P).getQueryCache().build(o(this,P),s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(t){return g(this,ct,Ct).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),o(this,M)))}createResult(t,s){var U;const r=o(this,S),n=this.options,l=o(this,M),c=o(this,it),d=o(this,ht),y=t!==r?t.state:o(this,xt),{state:x}=t;let h={...x},C=!1,R;if(s._optimisticResults){const I=this.hasListeners(),D=!I&&Me(t,s),W=I&&Pe(t,r,s,n);(D||W)&&(h={...h,...hs(x.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:N,errorUpdatedAt:F,status:B}=h;if(s.select&&h.data!==void 0)if(l&&h.data===(c==null?void 0:c.data)&&s.select===o(this,Rt))R=o(this,ft);else try{m(this,Rt,s.select),R=s.select(h.data),R=Be(l==null?void 0:l.data,R,s),m(this,ft,R),m(this,Q,null)}catch(I){m(this,Q,I)}else R=h.data;if(s.placeholderData!==void 0&&R===void 0&&B==="pending"){let I;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(d==null?void 0:d.placeholderData))I=l.data;else if(I=typeof s.placeholderData=="function"?s.placeholderData((U=o(this,bt))==null?void 0:U.state.data,o(this,bt)):s.placeholderData,s.select&&I!==void 0)try{I=s.select(I),m(this,Q,null)}catch(D){m(this,Q,D)}I!==void 0&&(B="success",R=Be(l==null?void 0:l.data,I,s),C=!0)}o(this,Q)&&(N=o(this,Q),R=o(this,ft),F=Date.now(),B="error");const A=h.fetchStatus==="fetching",z=B==="pending",tt=B==="error",H=z&&A,X=R!==void 0;return{status:B,fetchStatus:h.fetchStatus,isPending:z,isSuccess:B==="success",isError:tt,isInitialLoading:H,isLoading:H,data:R,dataUpdatedAt:h.dataUpdatedAt,error:N,errorUpdatedAt:F,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>y.dataUpdateCount||h.errorUpdateCount>y.errorUpdateCount,isFetching:A,isRefetching:A&&!z,isLoadingError:tt&&!X,isPaused:h.fetchStatus==="paused",isPlaceholderData:C,isRefetchError:tt&&X,isStale:ue(t,s),refetch:this.refetch}}updateResult(t){const s=o(this,M),r=this.createResult(o(this,S),this.options);if(m(this,it,o(this,S).state),m(this,ht,this.options),o(this,it).data!==void 0&&m(this,bt,o(this,S)),Ut(r,s))return;m(this,M,r);const n={},l=()=>{if(!s)return!0;const{notifyOnChangeProps:c}=this.options,d=typeof c=="function"?c():c;if(d==="all"||!d&&!o(this,pt).size)return!0;const f=new Set(d??o(this,pt));return this.options.throwOnError&&f.add("error"),Object.keys(o(this,M)).some(y=>{const x=y;return o(this,M)[x]!==s[x]&&f.has(x)})};(t==null?void 0:t.listeners)!==!1&&l()&&(n.listeners=!0),g(this,Dt,Qe).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&g(this,It,te).call(this)}},P=new WeakMap,S=new WeakMap,xt=new WeakMap,M=new WeakMap,it=new WeakMap,ht=new WeakMap,Q=new WeakMap,Rt=new WeakMap,ft=new WeakMap,bt=new WeakMap,lt=new WeakMap,at=new WeakMap,G=new WeakMap,pt=new WeakMap,ct=new WeakSet,Ct=function(t){g(this,Mt,re).call(this);let s=o(this,S).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(cs)),s},wt=new WeakSet,Gt=function(){if(g(this,Ot,ee).call(this),Re||o(this,M).isStale||!we(this.options.staleTime))return;const s=us(o(this,M).dataUpdatedAt,this.options.staleTime)+1;m(this,lt,setTimeout(()=>{o(this,M).isStale||this.updateResult()},s))},Bt=new WeakSet,Jt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(o(this,S)):this.options.refetchInterval)??!1},Et=new WeakSet,Zt=function(t){g(this,Tt,se).call(this),m(this,G,t),!(Re||this.options.enabled===!1||!we(o(this,G))||o(this,G)===0)&&m(this,at,setInterval(()=>{(this.options.refetchIntervalInBackground||ds.isFocused())&&g(this,ct,Ct).call(this)},o(this,G)))},It=new WeakSet,te=function(){g(this,wt,Gt).call(this),g(this,Et,Zt).call(this,g(this,Bt,Jt).call(this))},Ot=new WeakSet,ee=function(){o(this,lt)&&(clearTimeout(o(this,lt)),m(this,lt,void 0))},Tt=new WeakSet,se=function(){o(this,at)&&(clearInterval(o(this,at)),m(this,at,void 0))},Mt=new WeakSet,re=function(){const t=o(this,P).getQueryCache().build(o(this,P),this.options);if(t===o(this,S))return;const s=o(this,S);m(this,S,t),m(this,xt,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Dt=new WeakSet,Qe=function(t){$t.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(o(this,M))}),o(this,P).getQueryCache().notify({query:o(this,S),type:"observerResultsUpdated"})})},Le);function $s(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Me(e,t){return $s(e,t)||e.state.data!==void 0&&oe(e,t,t.refetchOnMount)}function oe(e,t,s){if(t.enabled!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&ue(e,t)}return!1}function Pe(e,t,s,r){return(e!==t||r.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&ue(e,s)}function ue(e,t){return t.enabled!==!1&&e.isStaleByTime(t.staleTime)}function Qs(e,t){return!Ut(e.getCurrentResult(),t)}var J,Z,L,K,vt,Nt,Pt,ne,Fe,Hs=(Fe=class extends De{constructor(s,r){super();p(this,vt);p(this,Pt);p(this,J,void 0);p(this,Z,void 0);p(this,L,void 0);p(this,K,void 0);m(this,J,s),this.setOptions(r),this.bindMethods(),g(this,vt,Nt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var n;const r=this.options;this.options=o(this,J).defaultMutationOptions(s),Ut(this.options,r)||o(this,J).getMutationCache().notify({type:"observerOptionsUpdated",mutation:o(this,L),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ee(r.mutationKey)!==Ee(this.options.mutationKey)?this.reset():((n=o(this,L))==null?void 0:n.state.status)==="pending"&&o(this,L).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=o(this,L))==null||s.removeObserver(this)}onMutationUpdate(s){g(this,vt,Nt).call(this),g(this,Pt,ne).call(this,s)}getCurrentResult(){return o(this,Z)}reset(){var s;(s=o(this,L))==null||s.removeObserver(this),m(this,L,void 0),g(this,vt,Nt).call(this),g(this,Pt,ne).call(this)}mutate(s,r){var n;return m(this,K,r),(n=o(this,L))==null||n.removeObserver(this),m(this,L,o(this,J).getMutationCache().build(o(this,J),this.options)),o(this,L).addObserver(this),o(this,L).execute(s)}},J=new WeakMap,Z=new WeakMap,L=new WeakMap,K=new WeakMap,vt=new WeakSet,Nt=function(){var r;const s=((r=o(this,L))==null?void 0:r.state)??fs();m(this,Z,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Pt=new WeakSet,ne=function(s){$t.batch(()=>{var r,n,l,c,d,f,y,x;if(o(this,K)&&this.hasListeners()){const h=o(this,Z).variables,C=o(this,Z).context;(s==null?void 0:s.type)==="success"?((n=(r=o(this,K)).onSuccess)==null||n.call(r,s.data,h,C),(c=(l=o(this,K)).onSettled)==null||c.call(l,s.data,null,h,C)):(s==null?void 0:s.type)==="error"&&((f=(d=o(this,K)).onError)==null||f.call(d,s.error,h,C),(x=(y=o(this,K)).onSettled)==null||x.call(y,void 0,s.error,h,C))}this.listeners.forEach(h=>{h(o(this,Z))})})},Fe),He=u.createContext(!1),_s=()=>u.useContext(He);He.Provider;function Ks(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Xs=u.createContext(Ks()),Vs=()=>u.useContext(Xs);function _e(e,t){return typeof e=="function"?e(...t):!!e}function Ys(){}var qs=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Gs=e=>{u.useEffect(()=>{e.clearReset()},[e])},Js=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&_e(s,[e.error,r]),Zs=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},tr=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,er=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function sr(e,t,s){const r=je(),n=_s(),l=Vs(),c=r.defaultQueryOptions(e);c._optimisticResults=n?"isRestoring":"optimistic",Zs(c),qs(c,l),Gs(l);const[d]=u.useState(()=>new t(r,c)),f=d.getOptimisticResult(c);if(u.useSyncExternalStore(u.useCallback(y=>{const x=n?()=>{}:d.subscribe($t.batchCalls(y));return d.updateResult(),x},[d,n]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),u.useEffect(()=>{d.setOptions(c,{listeners:!1})},[c,d]),tr(c,f))throw er(c,d,l);if(Js({result:f,errorResetBoundary:l,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash)}))throw f.error;return c.notifyOnChangeProps?f:d.trackResult(f)}function ar(e,t){return sr(e,js)}function cr(e,t){const s=je(),[r]=u.useState(()=>new Hs(s,e));u.useEffect(()=>{r.setOptions(e)},[r,e]);const n=u.useSyncExternalStore(u.useCallback(c=>r.subscribe($t.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=u.useCallback((c,d)=>{r.mutate(c,d).catch(Ys)},[r]);if(n.error&&_e(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:l,mutateAsync:n.mutate}}const ur=()=>{const e=u.useContext(bs);if(!e)throw new Error("useSnackbar must be used within a SnackbarProvider");return e};export{ir as T,cr as a,ar as b,nr as c,qt as t,ur as u};
