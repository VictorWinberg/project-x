import{g as h,j as e,T as b,B as j,G as t,h as s,S as f,f as o,L as y}from"./index-COuMXqaD.js";import{u as B,C as F}from"./index.esm-CXmEbi31.js";import{C as S}from"./ContentTabs-DW0LopUy.js";import{u as v}from"./useContactsQueries-BwhWdrcR.js";import{b as A}from"./useAssignmentsMutations-CssKbzUl.js";import{D as I}from"./DataTable-DpwOoa5u.js";import{A as m}from"./Autocomplete-B-qsF25B.js";import"./KeyboardArrowRight-ti_iWBnq.js";import"./useQuery-cCzrWn4K.js";import"./object-CjhW30ku.js";import"./contactsApi-CBvakhwW.js";import"./Skeleton-DEYNVP3y.js";import"./FormControlLabel-DGu1dU8R.js";import"./IconButton-BVG-b96v.js";import"./Tooltip-D1QJWb9G.js";const $=()=>{const{data:i=[],isLoading:d}=v(),{mutate:c}=A(),u=h(),{register:n,control:p,handleSubmit:x}=B(),g=a=>{c(a,{onSuccess:()=>{u("..")}})};return e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"h4",color:"primary",children:"Lägg till uppdrag"}),e.jsx(j,{sx:{my:1}}),e.jsxs("form",{onSubmit:x(g),children:[e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(s,{fullWidth:!0,label:"Uppdragsnamn",type:"text",margin:"none",...n("assignmentName")})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(F,{name:"responsiblePersonId",control:p,render:({field:a})=>e.jsx(m,{options:i,getOptionKey:r=>r.contactId,getOptionLabel:r=>`${r.firstName} ${r.lastName}`,onChange:(r,l)=>a.onChange(l?l.contactId:void 0),renderInput:r=>e.jsx(s,{...r,label:"Uppdragsgivare",variant:"outlined",fullWidth:!0})})})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(m,{multiple:!0,options:N,renderInput:a=>e.jsx(s,{...a,label:"Fastigheter",type:"text",...n("relevantFiles")}),limitTags:2,disableCloseOnSelect:!0})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(s,{fullWidth:!0,label:"Status",margin:"none",type:"text",...n("status")})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(s,{fullWidth:!0,label:"Typ",margin:"none",type:"text",...n("type")})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(s,{fullWidth:!0,label:"Arvode",margin:"none",type:"number",...n("fee")})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(S,{tabs:[{label:"Interaktioner",content:e.jsx(e.Fragment,{children:"Interaktioner..."})},{label:"Dokument",content:e.jsx(e.Fragment,{children:"Dokument..."})},{label:"Intressenter",content:e.jsx(I,{rows:i,getRowId:a=>a.contactId,loading:d,columns:[{field:"firstName",headerName:"Förnamn",editable:!0},{field:"lastName",headerName:"Efternamn",editable:!0},{field:"companyName",headerName:"Bolag"}]})},{label:"Moduler",content:e.jsx(e.Fragment,{children:"Moduler..."})}],selected:2})})]}),e.jsxs(f,{spacing:2,direction:"row",sx:{mt:3},children:[e.jsx(o,{size:"large",type:"submit",variant:"contained",color:"primary",children:"Spara"}),e.jsx(o,{component:y,size:"large",variant:"outlined",color:"primary",to:"..",children:"Avbryt"})]})]})]})},N=[{label:"Företaget"},{label:"BRF Sjöstadshöjden"},{label:"Bil & Bostad AB"},{label:"Hemfosa Fastigheter AB"},{label:"Svenska Bostäder"},{label:"Wallenstam AB"},{label:"Skanska"},{label:"JM AB"}];export{$ as default};
