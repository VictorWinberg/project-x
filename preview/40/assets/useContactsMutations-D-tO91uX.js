import{r as C,j as t,B as S,G as a,k as r,o as c}from"./index-DY7lwivF.js";import{u as g,C as F}from"./index.esm-BM7DQdJv.js";import{u as K}from"./useCompaniesQueries-CqYsPt4B.js";import{A as x}from"./Autocomplete-BRGgsNSQ.js";import{u as l,a as u}from"./useSnackbar-BgoPD6ym.js";import{c as q,b as v,d as I}from"./useContactsQueries-o82qn7C-.js";const T=({onSubmit:n=()=>{},onChange:e,formProps:y,children:b,...j})=>{const{data:m=[]}=K(),{register:o,control:h,handleSubmit:k,watch:f}=g(y),d=f();return C.useEffect(()=>{e==null||e(d)},[e,d]),t.jsx(S,{...j,children:t.jsxs("form",{onSubmit:k(n),children:[t.jsxs(a,{container:!0,spacing:2,children:[t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(r,{fullWidth:!0,label:"Namn",type:"text",margin:"none",...o("contactName")})}),t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(r,{fullWidth:!0,label:"Email",type:"text",margin:"none",...o("email")})}),t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(r,{fullWidth:!0,label:"Telefonnummer",type:"text",margin:"none",...o("phone")})}),t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(F,{name:"companyId",control:h,render:({field:i})=>t.jsx(x,{options:m,getOptionKey:s=>s.companyId,getOptionLabel:s=>s.companyName,value:m.find(s=>s.companyId===i.value)||null,onChange:(s,p)=>i.onChange(p?p.companyId:void 0),renderInput:s=>t.jsx(r,{...s,label:"Bolag",variant:"outlined",fullWidth:!0})})})}),t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(r,{fullWidth:!0,label:"Befattning",type:"text",margin:"none",...o("jobTitle")})}),t.jsx(a,{item:!0,xs:12,sm:6,children:t.jsx(x,{multiple:!0,options:U,renderInput:i=>t.jsx(r,{...i,label:"Utskick",name:"dispatch",type:"text"}),limitTags:2,disableCloseOnSelect:!0})})]}),b]})})},U=[{label:"Utskick Syd"},{label:"Utskick Väst"},{label:"Utskick Norr"},{label:"Utskick Öst"}],D=()=>{const n=c(),{showSnackbar:e}=l();return u({mutationFn:q,onSuccess:()=>{n.invalidateQueries({queryKey:["contacts"]}),e("Kontakt skapad!")}})},O=()=>{const n=c(),{showSnackbar:e}=l();return u({mutationFn:v,onSuccess:()=>{n.invalidateQueries({queryKey:["contacts"]}),e("Kontakt uppdaterad!")}})},A=()=>{const n=c(),{showSnackbar:e}=l();return u({mutationFn:I,onSuccess:()=>{n.invalidateQueries({queryKey:["contacts"]}),e("Kontakt borttagen!")}})};export{T as C,O as a,A as b,D as u};
