import{j as a,f as g,L as n,g as r,h as o,i as p,k as u,t as h}from"./index-C4ZqwmYb.js";import{D as x,a as f,b as A,M as j}from"./useSnackbar-Drrfmc5r.js";import{D as b}from"./DataTable-M0sb5sTe.js";import{F as C}from"./FlexGrow-Da-i-f2p.js";import{u as D,a as y,b as E,A as F}from"./useAssignmentsMutations--TG7dG9J.js";import{u as V}from"./useAssignmentsQueries-7J7x6neT.js";import{A as v}from"./Add-DXmL70GW.js";import"./MoreHoriz-CzApRsq9.js";import"./index.esm-bLnC1I_c.js";import"./Tooltip-Dc9_yOAB.js";import"./useContactsQueries-BMsfJafN.js";const T=[{accessorKey:"assignmentName",header:"Uppdragsnamn",Cell:({cell:e,row:t})=>a.jsx(r,{component:n,to:`/dashboard/assignments/${t.original.assignmentId}`,children:e.getValue()})},{accessorFn:e=>{var t;return(t=e.responsiblePerson)==null?void 0:t.contactName},header:"Ansvarig",enableEditing:!1,Cell:({cell:e,row:t})=>a.jsx(r,{component:n,to:{pathname:`/dashboard/contacts/${t.original.responsiblePersonId}`,search:`${o({tab:"assignments"})}`},children:e.getValue()})},{accessorFn:e=>{var t;return(t=e.externalContactPerson)==null?void 0:t.contactName},header:"Extern",enableEditing:!1,Cell:({cell:e,row:t})=>a.jsx(r,{component:n,to:{pathname:`/dashboard/contacts/${t.original.externalContactPersonId}`,search:`${o({tab:"assignments"})}`},children:e.getValue()})},{accessorKey:"type",header:"Typ",filterVariant:"multi-select"},{accessorKey:"status",header:"Status",filterVariant:"multi-select"},{accessorKey:"fee",header:"Arvode",filterVariant:"range-slider",Cell:({cell:e})=>e.getValue().toLocaleString("sv-SE",{style:"currency",currency:"SEK",minimumFractionDigits:0,maximumFractionDigits:0})},{accessorFn:e=>p.utc(e.updatedAt),header:"Senast uppdaterad",filterVariant:"date-range",enableEditing:!1,Cell:({cell:e})=>u(h(e.getValue()))}],B=()=>{const{data:e=[],isLoading:t}=V(),{mutate:i}=D(),{mutate:l}=y(),{mutate:m}=E();return a.jsx(C,{children:a.jsx(b,{data:e,columns:T,getRowId:s=>`${s.assignmentId}`,state:{isLoading:t},onCreate:s=>i(s),onUpdate:s=>l(s),onDelete:s=>m(s),renderTopToolbarCustomActions:()=>a.jsx(g,{component:n,to:"new",variant:"outlined",size:"small",startIcon:a.jsx(v,{}),sx:{textTransform:"none"},children:"LÃ¤gg till uppdrag"}),renderEditRowDialogContent:({row:s,table:c})=>a.jsxs(a.Fragment,{children:[a.jsx(x,{variant:"h4",color:"primary",children:"Redigera uppdrag"}),a.jsx(f,{children:a.jsx(F,{sx:{mt:1},formProps:{values:s.original},onChange:d=>{s._valuesCache=d}})}),a.jsx(A,{children:a.jsx(j,{row:s,table:c,variant:"text"})})]})})})};export{B as default};
