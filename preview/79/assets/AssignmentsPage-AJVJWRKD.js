import{j as a,f as g,L as n,g as r,h as o,i as p}from"./index-DeKKU5F0.js";import{D as u,a as h,b as x,M as f}from"./useSnackbar-CUrj-vRl.js";import{D as A}from"./DataTable-Cps57Wlj.js";import{F as j}from"./FlexGrow-Cte1a6RF.js";import{f as b,t as C}from"./date-DWc_rrG7.js";import{u as y,a as D,b as E,A as F}from"./useAssignmentsMutations-DqMyOSwr.js";import{u as V}from"./useAssignmentsQueries-DRLwbgXp.js";import{A as v}from"./Add-0YWPgp0e.js";import"./MoreHoriz-COerz88x.js";import"./index.esm-35gpFS7W.js";import"./Tooltip-lMSrPDhD.js";import"./useContactsQueries-r4HEUivQ.js";const T=[{accessorKey:"assignmentName",header:"Uppdragsnamn",Cell:({cell:e,row:t})=>a.jsx(r,{component:n,to:`/dashboard/assignments/${t.original.assignmentId}`,children:e.getValue()})},{accessorFn:e=>{var t;return(t=e.responsiblePerson)==null?void 0:t.contactName},header:"Ansvarig",enableEditing:!1,Cell:({cell:e,row:t})=>a.jsx(r,{component:n,to:{pathname:`/dashboard/contacts/${t.original.responsiblePersonId}`,search:`${o({tab:"assignments"})}`},children:e.getValue()})},{accessorFn:e=>{var t;return(t=e.externalContactPerson)==null?void 0:t.contactName},header:"Extern",enableEditing:!1,Cell:({cell:e,row:t})=>a.jsx(r,{component:n,to:{pathname:`/dashboard/contacts/${t.original.externalContactPersonId}`,search:`${o({tab:"assignments"})}`},children:e.getValue()})},{accessorKey:"type",header:"Typ",filterVariant:"multi-select"},{accessorKey:"status",header:"Status",filterVariant:"multi-select"},{accessorKey:"fee",header:"Arvode",filterVariant:"range-slider",Cell:({cell:e})=>e.getValue().toLocaleString("sv-SE",{style:"currency",currency:"SEK",minimumFractionDigits:0,maximumFractionDigits:0})},{accessorKey:"updatedAt",accessorFn:e=>p.utc(e.updatedAt),header:"Senast uppdaterad",filterVariant:"date-range",enableEditing:!1,Cell:({cell:e})=>b(C(e.getValue()))}],M=()=>{const{data:e=[],isLoading:t}=V(),{mutate:i}=y(),{mutate:l}=D(),{mutate:m}=E();return a.jsx(j,{children:a.jsx(A,{data:e,columns:T,getRowId:s=>`${s.assignmentId}`,state:{isLoading:t},onCreate:s=>i(s),onUpdate:s=>l(s),onDelete:s=>m(s),renderTopToolbarCustomActions:()=>a.jsx(g,{component:n,to:"new",variant:"outlined",size:"small",startIcon:a.jsx(v,{}),sx:{textTransform:"none"},children:"LÃ¤gg till uppdrag"}),renderEditRowDialogContent:({row:s,table:c})=>a.jsxs(a.Fragment,{children:[a.jsx(u,{variant:"h4",color:"primary",children:"Redigera uppdrag"}),a.jsx(h,{children:a.jsx(F,{sx:{mt:1},formProps:{values:s.original},onChange:d=>{s._valuesCache=d}})}),a.jsx(x,{children:a.jsx(f,{row:s,table:c,variant:"text"})})]})})})};export{M as default};
