import{j as t,i as n,L as s,k as d,f as u}from"./index-CT3AHrBx.js";import{D as p,a as g,b as f,M as C}from"./useSnackbar-C2zLVHRn.js";import{D as h,d as x}from"./DataTable-COStBl9D.js";import{F as j}from"./FlexGrow-BwQ7dsQm.js";import{C as b}from"./ContactForm-L4hKhq4u.js";import{f as D,t as y}from"./date-BKJXFPr-.js";import{u as T,a as k,b as F}from"./useContactsMutations-CfkIneWa.js";import{u as E}from"./useContactsQueries-B_qIv4L5.js";import"./MoreHoriz-CxyVehkV.js";import"./index.esm-D6PEksdK.js";import"./Tooltip-IZIKTl7T.js";import"./useQueryParam-D8UyOyx2.js";import"./useCompaniesQueries-kH5QhIh0.js";const L=[{accessorKey:"contactName",header:"Namn",Cell:({cell:a,row:o})=>t.jsx(n,{component:s,to:`/dashboard/contacts/${o.original.contactId}`,children:a.getValue()})},{accessorKey:"email",header:"Email",Cell:({cell:a})=>t.jsx(n,{href:`mailto:${a.getValue()}`,children:a.getValue()})},{accessorKey:"jobTitle",header:"Jobbtitel"},{accessorFn:a=>{var o;return(o=a.company)==null?void 0:o.companyName},header:"Företagsnamn",filterVariant:"multi-select",enableEditing:!1},{accessorKey:"phone",header:"Telefonnummer"},{accessorKey:"updatedAt",accessorFn:a=>d.utc(a.updatedAt),header:"Senast uppdaterad",filterVariant:"date-range",enableEditing:!1,Cell:({cell:a})=>D(y(a.getValue()))}],U=()=>{const{data:a=[],isLoading:o}=E(),{mutate:r}=T(),{mutate:i}=k(),{mutate:c}=F();return t.jsx(j,{children:t.jsx(h,{data:a,columns:L,getRowId:e=>`${e.contactId}`,state:{isLoading:o},onCreate:e=>r(e),onUpdate:e=>i(e),onDelete:e=>c(e),renderTopToolbarCustomActions:()=>t.jsx(u,{component:s,to:"new",variant:"outlined",size:"small",startIcon:t.jsx(x,{}),sx:{textTransform:"none"},children:"Lägg till kontakt"}),renderEditRowDialogContent:({row:e,table:l})=>t.jsxs(t.Fragment,{children:[t.jsx(p,{variant:"h4",color:"primary",children:"Redigera kontakt"}),t.jsx(g,{children:t.jsx(b,{sx:{mt:1},formProps:{values:e.original},onChange:m=>{e._valuesCache=m}})}),t.jsx(f,{children:t.jsx(C,{row:e,table:l,variant:"text"})})]})})})};export{U as default};
