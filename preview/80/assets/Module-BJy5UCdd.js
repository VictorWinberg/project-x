import{j as o,B as u,f,r as i,T as y}from"./index-7C7diK1O.js";import{u as m,F as C,S as p}from"./useQueryParam-DlPUu5W1.js";import{f as F,i as g}from"./useSnackbar-mubgvWS0.js";import{A as d,u as T}from"./useAssignmentsMutations-ClVr2R-g.js";import{a as x}from"./AssignmentConfig-um6Mbm9d.js";import{u as M}from"./useAssignmentsQueries-CPe3SWnz.js";import{C as j,u as h}from"./useCompaniesMutations-CcdoxYrR.js";import{c as k}from"./CompanyConfig-BN83Wduk.js";import{u as P}from"./useCompaniesQueries-4EnGqE8j.js";import{C as S}from"./ContactForm-BmwrBgmZ.js";import{c as D}from"./ContactConfig-kT8jyGk-.js";import{u as v}from"./useContactsMutations-C4_QFoXx.js";import{u as A}from"./useContactsQueries-rbZvpIxE.js";const E=({selectedModule:t})=>{const{FormComponent:n,createMutation:a,props:s}=t,{mutate:r}=a();return o.jsxs(n,{onSubmit:r,...s,children:[o.jsx(u,{sx:{my:1}}),o.jsx(f,{size:"large",type:"submit",variant:"contained",color:"primary",children:"Spara"})]})},R=({selectedModule:t})=>{const{useData:n,props:a}=t,[s,r]=m("filters",C,[]),[e,l]=m("search",p,""),{data:c=[]}=n(),b=F({data:c,initialState:{showGlobalFilter:!!e},state:{columnFilters:s,globalFilter:e},enableColumnFilters:!1,enableColumnResizing:!1,enableDensityToggle:!1,enableEditing:!1,enableRowActions:!1,enableTopToolbar:!1,onColumnFiltersChange:r,onGlobalFilterChange:l,...a});return o.jsx(g,{table:b})},_=[{key:"companyForm",label:"Företagsformulär",type:"form",FormComponent:j,createMutation:h,props:{}},{key:"assignmentForm",label:"Uppdragsformulär",type:"form",FormComponent:d,createMutation:T,props:{}},{key:"contactForm",label:"Kontaktpersonsformulär",type:"form",FormComponent:S,createMutation:v,props:{}},{key:"companiesTable",label:"Företagstabell",type:"table",useData:P,props:{columns:k},configProps:{enableTopToolbar:!0,enableColumnFilters:!0}},{key:"assignmentsTable",label:"Uppdragstabell",type:"table",useData:M,props:{columns:x},configProps:{enableTopToolbar:!0,enableColumnFilters:!0}},{key:"contactsTable",label:"Kontaktpersonstabell",type:"table",useData:A,props:{columns:D},configProps:{enableTopToolbar:!0,enableColumnFilters:!0}}],z=t=>{const[n,a]=m("title",p,""),[s,r]=m("module",p,""),e=i.useMemo(()=>_.find(l=>l.key===s),[s]);return i.useEffect(()=>{var l;t.selectedModule!==void 0&&r(((l=t.selectedModule)==null?void 0:l.key)??"")},[t.selectedModule,r]),i.useEffect(()=>{t.title!==void 0&&a(t.title??"")},[t.title,a]),o.jsxs(u,{sx:{my:1},children:[o.jsx(y,{variant:"h4",color:"primary",children:n}),o.jsx(u,{sx:{my:1}}),(e==null?void 0:e.type)==="table"&&o.jsx(R,{selectedModule:e}),(e==null?void 0:e.type)==="form"&&o.jsx(E,{selectedModule:e})]})},N=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));export{z as M,N as a,_ as m};
