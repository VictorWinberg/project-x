import{j as a,B as i,f as p,r as l,T as f}from"./index-ddI1K0Uz.js";import{u,F as y,S as c}from"./useQueryParam-yYHqQwSD.js";import{f as b,i as d}from"./useSnackbar-CvIRoW3l.js";import{A as C,u as g}from"./useAssignmentsMutations-Cdcqpsi7.js";import{a as F}from"./AssignmentConfig-jNkq2-A3.js";import{u as x}from"./useAssignmentsQueries-CURbVvZS.js";import{C as M,u as j}from"./useCompaniesMutations-DUvHXjWa.js";import{c as k}from"./CompanyConfig-CcolPPOq.js";import{u as T}from"./useCompaniesQueries-Dk_jIta1.js";import{C as h}from"./ContactForm-CMrvvV7i.js";import{c as S}from"./ContactConfig-BYkgSsZc.js";import{u as v}from"./useContactsMutations-D4JyyZiO.js";import{u as A}from"./useContactsQueries-PP6qFhMy.js";const D=({selectedModule:e})=>{const{FormComponent:m,createMutation:o,props:s}=e,{mutate:r}=o();return a.jsxs(m,{onSubmit:r,...s,children:[a.jsx(i,{sx:{my:1}}),a.jsx(p,{size:"large",type:"submit",variant:"contained",color:"primary",children:"Spara"})]})},E=({selectedModule:e})=>{const{useData:m,props:o}=e,[s,r]=u("filters",y,[]),{data:t=[]}=m(),n=b({data:t,state:{columnFilters:s},enableEditing:!1,enableRowActions:!1,enableColumnResizing:!1,enableStickyHeader:!1,onColumnFiltersChange:r,...o});return a.jsx(d,{table:n})},P=[{key:"companyForm",label:"Företagsformulär",type:"form",FormComponent:M,createMutation:j},{key:"assignmentForm",label:"Uppdragsformulär",type:"form",FormComponent:C,createMutation:g},{key:"contactForm",label:"Kontaktpersonsformulär",type:"form",FormComponent:h,createMutation:v},{key:"companiesTable",label:"Företagstabell",type:"table",useData:T,props:{columns:k}},{key:"assignmentsTable",label:"Uppdragstabell",type:"table",useData:x,props:{columns:F}},{key:"contactsTable",label:"Kontaktpersonstabell",type:"table",useData:A,props:{columns:S}}],R=e=>{const[m,o]=u("title",c,""),[s,r]=u("module",c,""),t=l.useMemo(()=>P.find(n=>n.key===s),[s]);return l.useEffect(()=>{var n;e.selectedModule!==void 0&&r(((n=e.selectedModule)==null?void 0:n.key)??"")},[e.selectedModule,r]),l.useEffect(()=>{e.title!==void 0&&o(e.title??"")},[e.title,o]),a.jsxs(i,{sx:{my:1},children:[a.jsx(f,{variant:"h4",color:"primary",children:m}),a.jsx(i,{sx:{my:1}}),(t==null?void 0:t.type)==="table"&&a.jsx(E,{selectedModule:t}),(t==null?void 0:t.type)==="form"&&a.jsx(D,{selectedModule:t})]})},J=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{R as M,J as a,P as m};
